<!DOCTYPE html>
<html> <head> 
    <title>Find the treasure by Divya</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    
</head>
<body>
    <h1>Find the treasure by Divya</h1>
    <form class="ui container">
            
        <p>
          Click on the locations to search for treasure, beware of the traps!!!!
        </p>
        <br />
        <div class="ui grid">
          <div class="four wide column">
            <p id="locations">Number of locations checked is 0.</p>
          </div>
          <div class="four wide column"><p id="penalty">Penalty is 0.</p></div>
          <div class="eight wide column">
            <button id="clickHelp"><p onclick="help()">Click for help</p></button>
            <p id="help">Help report</p>
          </div>
        </div>
        <br />
      </form>
    </div>
    <div>
    <div class="row" style="padding-left: 150px;">
        <div class="col-md-2"><img id="0" onclick="check(0)" src="treasure-1.jpg" alt="tres-1"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="1" onclick="check(1)" src="treasure-1.jpg" alt="tres-2"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="2" onclick="check(2)" src="treasure-1.jpg" alt="tres-3"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="3" onclick="check(3)" src="treasure-1.jpg" alt="tres-4"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="4" onclick="check(4)" src="treasure-1.jpg" alt="tres-5"
                style="width: 100px;height:100px;"></div>
    </div>
    <br>
    <div class="row" style="padding-left: 150px;">
        <div class="col-md-2"><img id="5" onclick="check(5)" src="treasure-1.jpg" alt="tres-1"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="6" onclick="check(6)" src="treasure-1.jpg" alt="tres-2"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="7" onclick="check(7)" src="treasure-1.jpg" alt="tres-3"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="8" onclick="check(8)" src="treasure-1.jpg" alt="tres-4"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="9" onclick="check(9)" src="treasure-1.jpg" alt="tres-5"
                style="width: 100px;height:100px;"></div>
    </div>
    <br>
    <div class="row" style="padding-left: 150px;">
        <div class="col-md-2"><img id="10" onclick="check(10)" src="treasure-1.jpg" alt="tres-1"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="11" onclick="check(11)" src="treasure-1.jpg" alt="tres-2"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="12" onclick="check(12)" src="treasure-1.jpg" alt="tres-3"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="13" onclick="check(13)" src="treasure-1.jpg" alt="tres-4"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="14" onclick="check(14)" src="treasure-1.jpg" alt="tres-5"
                style="width: 100px;height:100px;"></div>
    </div>
    <br> 
    <div class="row" style="padding-left: 150px;">
        <div class="col-md-2"><img id="15" onclick="check(15)" src="treasure-1.jpg" alt="tres-1"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="16" onclick="check(16)" src="treasure-1.jpg" alt="tres-2"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="17" onclick="check(17)" src="treasure-1.jpg" alt="tres-3"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="18" onclick="check(18)" src="treasure-1.jpg" alt="tres-4"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="19" onclick="check(19)" src="treasure-1.jpg" alt="tres-5"
                style="width: 100px;height:100px;"></div>
    </div>
    <br>
    <div class="row" style="padding-left: 150px;">
        <div class="col-md-2"><img id="15" onclick="check(20)" src="treasure-1.jpg" alt="tres-1"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="16" onclick="check(21)" src="treasure-1.jpg" alt="tres-2"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="17" onclick="check(22)" src="treasure-1.jpg" alt="tres-3"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="18" onclick="check(23)" src="treasure-1.jpg" alt="tres-4"
                style="width: 100px;height:100px;"></div>
        <div class="col-md-2"><img id="19" onclick="check(24)" src="treasure-1.jpg" alt="tres-5"
                style="width: 100px;height:100px;"></div>
    </div>
    </div>
    <Script>
        let locations = document.getElementById("locations");
        let penaltyy = document.getElementById("penalty");

        let checkCount = 0;
        let penalty = 0;
        let lastCheck = 0;
        let treasureLocation = 5;
        let trapLocation = 18;
        let gameOver = false;
        let ids=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24];

        function check(position) {
      if (gameOver == true) {
        //do nothing
        return;
      }
      if (position === treasureLocation) {
        document.getElementById(ids[position]).src = "treasure-2.jpg";
        gameOver = true;
        penalty = penalty - 3;
      } else if (position === trapLocation) {
        document.getElementById(ids[position]).src = "treasure-3.jpg";
        gameOver = true;
        penalty = penalty + 4;
      } else {
        document.getElementById(ids[position]).src = "treasure-4.jpg";
        penalty = penalty + 1;
      }
      checkCount++;
      locations.innerHTML = "Number of locations checked is " + checkCount;
      lastCheck = position;
      penaltyy.innerHTML = "Penalty is " + penalty;
        }

    function help() {
      let penaltyy = document.getElementById("penalty");
      event.preventDefault();

      const treasureRow = Math.floor(treasureLocation / 5);
      const treasureCol = treasureRow % 5;
      const lastLocationRow = Math.floor(lastCheck / 5);
      const lastLocationCol = lastCheck % 5;
      const rowDiff = Math.abs(treasureRow - lastLocationRow);
      const colDiff = Math.abs(treasureCol - lastLocationCol);

      // Check if the last location and treasure are next to each other
      let helpmsg;
      if (rowDiff <= 1 && colDiff <= 1 && rowDiff !== colDiff) {
        helpmsg ="Can smell it";
      } else if (rowDiff + colDiff === 2) {
        helpmsg= "Close Matie";
      } else {
        helpmsg ="Step Faster";
      }
      penalty += 2;

      penaltyy.innerHTML = "Penalty is " + penalty;
      document.getElementById("help").textContent = helpmsg;
      console.log(penalty);
    }
    </Script>
	
	</body>
	</html>	